<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Legacy Kennels</title>
    <style>
        @import url(https://unpkg.com/@webpixels/css@1.1.5/dist/index.css);
        /* Bootstrap Icons */
        @import url("https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.4.0/font/bootstrap-icons.min.css");

    </style>

</head>
<body>
    <div>
 <%- include('../partials/Navbar') %>
    </div>

    <main class="py-6 bg-surface-secondary">
        <div class="container-fluid">
            <!-- Card stats -->
           
                            <!-- search input  -->
                            <div class="relative m-10">
                                <input id="serchInput" type="text" placeholder="Search by Name" class="px-4 py-2 border border-gray-300 rounded w-full">
                                <button type="submit" class="absolute top-0 right-0 mt-2 mr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                                      </svg>
                                      
                                </button>
                              </div>
                              
            <div class="card shadow border-0 mb-7">
                <div class="card-header">
                    <h5 class="mb-0">dog Management Table</h5>
                </div>
                <div class="table-responsive">
                    <button class="p-3 m-3 flex" id="show-dog-modal">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg> Add dog
                    </button>
                    
                    <div id="modal" class="hidden" id="dog-modal">
                     <!--    <%- include('../partials/modal-dogs') %> -->
                    </div>
                    

                    <table class="table table-hover table-nowrap">
                        <thead class="thead-light ">
                            <!--  this is the table menu showing the list of items in thetable ,  -->
                            <tr>
                                <th scope="col">Dog Name</th>
                                <th scope="col">Dog breed</th>
                                <th scope="col">Coat</th>
                                <th scope="col">Action</th>
                                
                            </tr>
                        </thead>
                        <!--  an iteratiokn of the data fetch by ejs from the server  -->
                       <tbody id="search-results">
                        <!-- loopt  through the array data fetched fromt he backend server Express -->
                             <% dogs.forEach(dog => { %>
                               <tr>
                                <td>
                                  <img alt="..." src="<%= dog.image %>"  class="avatar avatar-sm rounded-circle me-2">
                                  <a class="text-heading font-semibold" href="#">
                                    <%= dog.name %>
                                  </a>
                                </td>
                               <td className="font-semibold">Not specific </td>
                               <td className="font-semibold"> K<%= dog.color  %> </td>
                              
                                <td className="table-end">
                                  <a href="#" class="btn btn-sm btn-neutral">View</a>
                                  <button type="button" class="btn btn-sm btn-square btn-neutral text-danger-hover">
                                    <i class="bi bi-trash"></i>
                                  </button>
                                </td>
                              </tr> 
                            <% }); %> 
                          </tbody>
                           
                    </table>
                </div>

                <!-- only to be executed if their is a number of information  -->
                <div class="card-footer border-0 py-5">
                    <span class="text-muted text-sm">Showing 10 items out of 250 results found</span>
                </div>
            </div>
        </div>
    </main>

   


   <script>
       const searchInput = document.querySelector("#serchInput");
const tableRows = document.querySelectorAll('tbody tr');

searchInput.addEventListener('input', function(e) {
    e.preventDefault()
  const query = this.value.toLowerCase().trim();

  tableRows.forEach(row => {
    const name = row.querySelector('td:first-child').textContent.toLowerCase();
    
    if (name.includes(query) ) {
      row.style.display = '';
    } else {
      row.style.display = 'none';
    }
  });
});




const button = document.getElementById('show-dog-modal');
    const modal = document.getElementById('modal');

    button.addEventListener('click', function() {
        modal.classList.remove('hidden');
    });
    </script> 
     
</body>
</html>